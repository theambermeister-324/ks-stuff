<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Product System Maturity & AI Readiness Assessment</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <style>
    .progress-bar { transition: width 0.3s ease; }
    .option-card { transition: all 0.2s; }
    .option-card:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
    .option-card.selected { border-color: #10b981; background: #ecfdf5; }
    .fade-in { animation: fadeIn 0.3s ease-in; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-b from-slate-50 to-white">
  <!-- Header -->
  <header class="bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 text-white">
    <div class="max-w-4xl mx-auto px-4 py-6">
      <div class="flex items-center gap-3 mb-2">
        <div class="w-10 h-10 bg-emerald-500/20 rounded-lg flex items-center justify-center">
          <i data-lucide="activity" class="w-5 h-5 text-emerald-400"></i>
        </div>
        <div>
          <h1 class="text-2xl font-bold">Product System Maturity & AI Readiness</h1>
          <p class="text-slate-300 text-sm">Benchmark your maturity and discover your path to AI-accelerated product delivery</p>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main id="app" class="max-w-4xl mx-auto px-4 py-8">
    <!-- Intro Section (shown before assessment starts) -->
    <div id="intro-container" class="space-y-6">
      <!-- Hero Section -->
      <div class="bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 text-white rounded-xl p-8 shadow-lg text-center">
        <h2 class="text-3xl font-bold mb-3">Assess Your Product System Maturity & AI Readiness</h2>
        <p class="text-lg text-slate-300 mb-6 max-w-2xl mx-auto">Benchmark your organization against industry standards and discover your personalized path to AI-accelerated product delivery.</p>
        <button onclick="startAssessment()" class="bg-emerald-500 text-white px-8 py-4 rounded-lg font-semibold text-lg hover:bg-emerald-600 transition-colors inline-flex items-center gap-2 shadow-lg">
          <span>Start Assessment</span>
          <i data-lucide="arrow-right" class="w-5 h-5"></i>
        </button>
        <p class="text-sm text-slate-400 mt-4">Takes 5 minutes • No email required • Compare to 50+ enterprise organizations</p>
      </div>

      <!-- Quick Value Props -->
      <div class="grid grid-cols-3 gap-4">
        <div class="bg-white rounded-lg p-5 border border-slate-200 text-center">
          <i data-lucide="bar-chart-3" class="w-8 h-8 text-emerald-600 mx-auto mb-3"></i>
          <p class="font-semibold text-slate-900 mb-1">Benchmark Score</p>
          <p class="text-sm text-slate-600">Compare to industry standards</p>
        </div>
        <div class="bg-white rounded-lg p-5 border border-slate-200 text-center">
          <i data-lucide="git-branch" class="w-8 h-8 text-blue-600 mx-auto mb-3"></i>
          <p class="font-semibold text-slate-900 mb-1">Personalized Path</p>
          <p class="text-sm text-slate-600">Get matched to your journey</p>
        </div>
        <div class="bg-white rounded-lg p-5 border border-slate-200 text-center">
          <i data-lucide="arrow-right" class="w-8 h-8 text-violet-600 mx-auto mb-3"></i>
          <p class="font-semibold text-slate-900 mb-1">Action Plan</p>
          <p class="text-sm text-slate-600">Clear next steps</p>
        </div>
      </div>

      <!-- Competitive Differentiation -->
      <div class="bg-gradient-to-r from-emerald-50 to-blue-50 border-2 border-emerald-200 rounded-xl p-6">
        <h3 class="text-lg font-bold text-slate-900 mb-3 flex items-center gap-2">
          <i data-lucide="sparkles" class="w-5 h-5 text-emerald-600"></i>
          Why This Assessment is Different
        </h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="bg-white rounded-lg p-4 border border-emerald-200">
            <p class="text-sm font-semibold text-slate-900 mb-2">vs. Tool-Specific Assessments</p>
            <p class="text-xs text-slate-600">Storybook and Chromatic focus on tool adoption. We evaluate governance, activation, and AI readiness—the real drivers of value.</p>
          </div>
          <div class="bg-white rounded-lg p-4 border border-emerald-200">
            <p class="text-sm font-semibold text-slate-900 mb-2">vs. Design-Focused Evaluations</p>
            <p class="text-xs text-slate-600">Figma assessments measure design consistency. We assess engineering execution and AI-assisted delivery capabilities.</p>
          </div>
          <div class="bg-white rounded-lg p-4 border border-emerald-200">
            <p class="text-sm font-semibold text-slate-900 mb-2">vs. Generic Maturity Models</p>
            <p class="text-xs text-slate-600">Most frameworks give you a score. We provide a personalized investment path with timelines, budgets, and success criteria.</p>
          </div>
          <div class="bg-white rounded-lg p-4 border border-emerald-200">
            <p class="text-sm font-semibold text-slate-900 mb-2">vs. Consulting Assessments</p>
            <p class="text-xs text-slate-600">Agency assessments take weeks and cost $50K+. Get actionable insights in 5 minutes, then connect with experts.</p>
          </div>
        </div>
      </div>

      <!-- Benchmarking Context -->
      <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm">
        <div class="flex items-start gap-4">
          <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0">
            <i data-lucide="users" class="w-6 h-6 text-blue-600"></i>
          </div>
          <div class="flex-1">
            <h3 class="text-lg font-bold text-slate-900 mb-2">Benchmarked Against Industry Leaders</h3>
            <p class="text-sm text-slate-700 mb-3">This assessment is based on analysis of 50+ enterprise product systems, including organizations like PNC, Edward Jones, The Home Depot, and CSX.</p>
            <div class="flex flex-wrap gap-2">
              <span class="px-3 py-1 bg-slate-100 text-slate-700 rounded-lg text-xs font-medium">Financial Services</span>
              <span class="px-3 py-1 bg-slate-100 text-slate-700 rounded-lg text-xs font-medium">Retail</span>
              <span class="px-3 py-1 bg-slate-100 text-slate-700 rounded-lg text-xs font-medium">Technology</span>
              <span class="px-3 py-1 bg-slate-100 text-slate-700 rounded-lg text-xs font-medium">Healthcare</span>
            </div>
          </div>
        </div>
      </div>

      <!-- What is Assessed -->
      <div class="bg-slate-50 rounded-xl p-6 border border-slate-200">
        <p class="text-sm text-slate-600 text-center mb-2">
          This assessment evaluates your <span class="font-semibold text-slate-900">Product System</span> foundation, AI readiness, and organizational capacity to help you identify the right path forward.
        </p>
        <p class="text-xs text-slate-500 text-center">
          The only assessment that evaluates AI readiness alongside product system maturity—because governance without AI execution is incomplete.
        </p>
      </div>
    </div>

    <!-- Assessment Form -->
    <div id="assessment-container" class="hidden space-y-6">
      <!-- Progress Indicator -->
      <div class="bg-white rounded-xl border border-slate-200 p-4 shadow-sm">
        <div class="flex items-center justify-between mb-2">
          <span class="text-sm font-medium text-slate-600">Assessment Progress</span>
          <span class="text-sm text-slate-500" id="progress-text">0%</span>
        </div>
        <div class="h-2 bg-slate-200 rounded-full overflow-hidden">
          <div id="progress-bar" class="h-full bg-emerald-500 progress-bar" style="width: 0%"></div>
        </div>
      </div>

      <!-- Current Question -->
      <div id="question-container" class="space-y-4"></div>
    </div>

    <!-- Results -->
    <div id="results-container" class="hidden space-y-6">
      <!-- Overall Score -->
      <div class="bg-gradient-to-r from-emerald-600 to-emerald-700 text-white rounded-xl p-6">
        <div class="flex items-center justify-between mb-4">
          <div>
            <p class="text-emerald-100 text-sm font-medium mb-1">YOUR READINESS SCORE</p>
            <h2 class="text-4xl font-bold" id="overall-score">0</h2>
            <p class="text-emerald-100 text-sm mt-1">out of 100 • Benchmark against 50+ enterprises</p>
          </div>
          <div class="w-24 h-24 rounded-full bg-white/20 flex items-center justify-center">
            <i data-lucide="target" class="w-12 h-12"></i>
          </div>
        </div>
        <div class="grid grid-cols-3 gap-4 mt-4">
          <div class="bg-white/10 rounded-lg p-3">
            <p class="text-xs text-emerald-200 mb-1">Product System Foundation</p>
            <p class="text-xl font-bold" id="foundation-score">0</p>
            <p class="text-xs text-emerald-200">/ 40</p>
          </div>
          <div class="bg-white/10 rounded-lg p-3">
            <p class="text-xs text-emerald-200 mb-1">AI & Automation Readiness</p>
            <p class="text-xl font-bold" id="ai-score">0</p>
            <p class="text-xs text-emerald-200">/ 30</p>
          </div>
          <div class="bg-white/10 rounded-lg p-3">
            <p class="text-xs text-emerald-200 mb-1">Organizational Readiness</p>
            <p class="text-xl font-bold" id="org-score">0</p>
            <p class="text-xs text-emerald-200">/ 30</p>
          </div>
        </div>
      </div>

      <!-- Investment Path Recommendation -->
      <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm">
        <h3 class="text-lg font-bold text-slate-900 mb-4 flex items-center gap-2">
          <i data-lucide="git-branch" class="w-5 h-5 text-emerald-600"></i>
          Recommended Investment Path
        </h3>
        <div id="path-recommendation" class="space-y-4"></div>
      </div>

      <!-- Deployment Tier -->
      <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm">
        <h3 class="text-lg font-bold text-slate-900 mb-4 flex items-center gap-2">
          <i data-lucide="server" class="w-5 h-5 text-amber-600"></i>
          Deployment Tier Assessment
        </h3>
        <div id="deployment-recommendation"></div>
      </div>

      <!-- Detailed Breakdown -->
      <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm">
        <h3 class="text-lg font-bold text-slate-900 mb-4 flex items-center gap-2">
          <i data-lucide="bar-chart-3" class="w-5 h-5 text-blue-600"></i>
          Assessment Breakdown
        </h3>
        <div id="breakdown-details" class="space-y-4"></div>
      </div>

      <!-- Benchmark Comparison -->
      <div id="benchmark-comparison" class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm"></div>

      <!-- Next Steps -->
      <div class="bg-emerald-50 border-2 border-emerald-200 rounded-xl p-6">
        <h3 class="text-lg font-bold text-emerald-900 mb-4 flex items-center gap-2">
          <i data-lucide="arrow-right" class="w-5 h-5 text-emerald-600"></i>
          Recommended Next Steps
        </h3>
        <div id="next-steps" class="space-y-3"></div>
      </div>

      <!-- Personalized Insights -->
      <div id="personalized-insights" class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm"></div>

      <!-- Cost of Inaction -->
      <div id="cost-of-inaction" class="bg-gradient-to-r from-rose-50 to-orange-50 border-2 border-rose-200 rounded-xl p-6 shadow-sm"></div>

      <!-- Connect with Knapsack CTA -->
      <div class="bg-gradient-to-r from-emerald-600 to-blue-600 text-white rounded-xl p-8 shadow-lg">
        <div class="flex flex-col md:flex-row items-center gap-6">
          <div class="flex-1">
            <h3 class="text-2xl font-bold mb-2">Ready to take the next step?</h3>
            <p class="text-emerald-100 mb-4">Schedule a personalized consultation with our IPE experts to discuss your assessment results and explore how the Intelligent Product Engine can accelerate your product delivery.</p>
            <div class="flex flex-wrap gap-3 text-sm">
              <div class="flex items-center gap-2 bg-white/20 rounded-lg px-3 py-2">
                <i data-lucide="calendar" class="w-4 h-4"></i>
                <span>30-minute consultation</span>
              </div>
              <div class="flex items-center gap-2 bg-white/20 rounded-lg px-3 py-2">
                <i data-lucide="file-text" class="w-4 h-4"></i>
                <span>Detailed roadmap</span>
              </div>
              <div class="flex items-center gap-2 bg-white/20 rounded-lg px-3 py-2">
                <i data-lucide="users" class="w-4 h-4"></i>
                <span>Expert guidance</span>
              </div>
            </div>
          </div>
          <div class="flex flex-col gap-3">
            <a href="mailto:ipe@knapsack.cloud?subject=Product System Maturity Assessment Results - Consultation Request" class="bg-white text-emerald-600 px-6 py-3 rounded-lg font-semibold hover:bg-emerald-50 transition-colors flex items-center justify-center gap-2 text-center">
              <i data-lucide="mail" class="w-5 h-5"></i>
              <span>Schedule Consultation</span>
            </a>
            <button onclick="downloadResults()" class="bg-white/20 text-white px-6 py-3 rounded-lg font-medium hover:bg-white/30 transition-colors flex items-center justify-center gap-2 border border-white/30">
              <i data-lucide="download" class="w-5 h-5"></i>
              <span>Download Results</span>
            </button>
          </div>
        </div>
      </div>

      <!-- Restart Button -->
      <button onclick="resetAssessment()" class="w-full flex items-center justify-center gap-2 px-6 py-3 bg-slate-900 text-white rounded-lg font-medium hover:bg-slate-800 transition-colors">
        <i data-lucide="refresh-cw" class="w-5 h-5"></i>
        Start New Assessment
      </button>
    </div>
  </main>

  <script>
    // Assessment Questions
    const questions = [
      // Product System Foundation (40 points total)
      {
        category: 'Product System Foundation',
        weight: 40,
        question: 'What is the current state of your design system?',
        options: [
          { text: 'No design system exists', score: 0, value: 'none' },
          { text: 'Informal or scattered components', score: 5, value: 'informal' },
          { text: 'Design system exists but limited adoption', score: 10, value: 'limited' },
          { text: 'Design system deployed, moderate adoption (30-70%)', score: 15, value: 'moderate' },
          { text: 'Mature design system with high adoption (>70%)', score: 20, value: 'mature' }
        ]
      },
      {
        category: 'Product System Foundation',
        weight: 40,
        question: 'How is your design system governed?',
        options: [
          { text: 'No governance structure', score: 0, value: 'none' },
          { text: 'Informal or ad-hoc governance', score: 3, value: 'informal' },
          { text: 'Governance exists but not enforced', score: 6, value: 'exists' },
          { text: 'Active governance with decision authority', score: 10, value: 'active' },
          { text: 'Cross-system governance with clear rules', score: 12, value: 'cross-system' }
        ]
      },
      {
        category: 'Product System Foundation',
        weight: 40,
        question: 'What is the quality of your design system documentation?',
        options: [
          { text: 'No documentation', score: 0, value: 'none' },
          { text: 'Minimal or outdated documentation', score: 2, value: 'minimal' },
          { text: 'Basic documentation exists', score: 4, value: 'basic' },
          { text: 'Comprehensive, up-to-date documentation', score: 6, value: 'comprehensive' },
          { text: 'Living documentation integrated with code', score: 8, value: 'living' }
        ]
      },
      
      // AI & Automation Readiness (30 points total)
      {
        category: 'AI & Automation Readiness',
        weight: 30,
        question: 'How are your teams currently using AI coding tools?',
        options: [
          { text: 'No AI tools in use', score: 0, value: 'none' },
          { text: 'Limited experimentation', score: 3, value: 'experimental' },
          { text: 'Some teams using AI tools', score: 6, value: 'some' },
          { text: 'Widespread AI tool adoption', score: 10, value: 'widespread' },
          { text: 'AI tools integrated into workflows', score: 12, value: 'integrated' }
        ]
      },
      {
        category: 'AI & Automation Readiness',
        weight: 30,
        question: 'What is your API maturity and integration architecture?',
        options: [
          { text: 'No APIs or integration architecture', score: 0, value: 'none' },
          { text: 'Basic APIs exist', score: 3, value: 'basic' },
          { text: 'Well-defined APIs with documentation', score: 6, value: 'defined' },
          { text: 'Mature API architecture', score: 9, value: 'mature' },
          { text: 'API-first architecture with MCP compatibility', score: 12, value: 'mcp-ready' }
        ]
      },
      {
        category: 'AI & Automation Readiness',
        weight: 30,
        question: 'What is the quality of your product data and metadata?',
        options: [
          { text: 'No structured data', score: 0, value: 'none' },
          { text: 'Fragmented or inconsistent data', score: 2, value: 'fragmented' },
          { text: 'Some structured data exists', score: 4, value: 'some' },
          { text: 'Well-structured, consistent data', score: 6, value: 'structured' },
          { text: 'Rich metadata with semantic relationships', score: 8, value: 'rich' }
        ]
      },
      
      // Organizational Readiness (30 points total)
      {
        category: 'Organizational Readiness',
        weight: 30,
        question: 'Is there an executive sponsor for this initiative?',
        options: [
          { text: 'No sponsor identified', score: 0, value: 'none' },
          { text: 'Influencer only (IC or Manager)', score: 3, value: 'influencer' },
          { text: 'Director-level champion', score: 6, value: 'director' },
          { text: 'VP-level executive sponsor', score: 10, value: 'vp' },
          { text: 'C-level executive sponsor', score: 12, value: 'c-level' }
        ]
      },
      {
        category: 'Organizational Readiness',
        weight: 30,
        question: 'What is the status of budget for this investment?',
        options: [
          { text: 'No budget allocated', score: 0, value: 'none' },
          { text: 'Budget would need to be found', score: 3, value: 'find' },
          { text: 'Budget exists, needs approval', score: 6, value: 'approval' },
          { text: 'Budget allocated and approved', score: 10, value: 'allocated' },
          { text: 'Budget allocated with multi-year commitment', score: 12, value: 'multi-year' }
        ]
      },
      {
        category: 'Organizational Readiness',
        weight: 30,
        question: 'What is your team capacity for change management?',
        options: [
          { text: 'No capacity for change', score: 0, value: 'none' },
          { text: 'Limited capacity', score: 2, value: 'limited' },
          { text: 'Moderate capacity', score: 4, value: 'moderate' },
          { text: 'Dedicated change management resources', score: 6, value: 'dedicated' },
          { text: 'Strong change management capability', score: 8, value: 'strong' }
        ]
      },
      
      // Deployment Tier Questions
      {
        category: 'Deployment',
        weight: 0,
        question: 'What are your compliance and infrastructure requirements?',
        options: [
          { text: 'Standard SaaS acceptable (SOC 2)', score: 0, value: 'D1', tier: 'D1' },
          { text: 'Dedicated environment needed (SOC 2, GDPR)', score: 0, value: 'D2', tier: 'D2' },
          { text: 'Private cloud required (PCI, HIPAA)', score: 0, value: 'D3', tier: 'D3' },
          { text: 'Self-hosted/on-premises (FedRAMP, Defense)', score: 0, value: 'D4', tier: 'D4' },
          { text: 'Unknown - need to validate', score: 0, value: 'unknown', tier: 'D1' }
        ]
      }
    ];

    let currentQuestionIndex = 0;
    let answers = {};
    let deploymentTier = 'D1';
    let recommendedPath = 'J1';

    const journeyDetails = {
      J1: {
        name: 'Foundation Path',
        color: 'slate',
        tcv: '$50-60K',
        arrShare: '10%',
        risk: 'Low',
        description: 'For organizations without a system of record. Build before governing.',
        path: 'Diagnostic → Foundation → Governance',
        motion: 'Light-touch nurturing. Monitor for maturity signals.',
        accounts: ['Early-stage design system orgs', 'No engineering ownership yet']
      },
      J2: {
        name: 'Acceleration Path',
        color: 'blue',
        tcv: '$50K diagnostic → $225-325K sprint',
        arrShare: '5%',
        risk: 'Low',
        description: 'For mature orgs with sudden trigger. Fast activation, minimal services.',
        path: 'Diagnostic → Rapid Activation',
        motion: 'Fast activation sprint. Confirm trigger is real and timeline achievable.',
        accounts: ['Adobe-profile accounts', 'Enterprise rollout triggers']
      },
      J3: {
        name: 'Activation Path',
        color: 'emerald',
        tcv: '$740K-1.6M over 40-68 weeks',
        arrShare: '60%',
        risk: 'High',
        description: 'For high-value accounts blocked on activation. Full transformation.',
        path: 'Diagnostic → (Phase 0) → Foundation → Activation → Intelligence',
        motion: 'Services-led transformation. Begin with diagnostic ($50-60K).',
        accounts: ['PNC', 'Edward Jones', 'DoubleVerify', 'Qualcomm', 'GSK US']
      },
      J4: {
        name: 'Intelligence Path',
        color: 'violet',
        tcv: '$165-325K MCP + platform expansion',
        arrShare: '25%',
        risk: 'Medium',
        description: 'For implemented accounts ready for AI enablement. Expansion-focused.',
        path: 'Diagnostic → MCP Activation → Expansion',
        motion: 'Monitor for trigger. When identified, propose Intelligence phase.',
        accounts: ['The Home Depot', 'CSX', 'GSK Global', 'Crown Equipment']
      }
    };

    const deploymentTiers = {
      D1: { name: 'Cloud Standard', premium: '—', time: '2-4 weeks', compliance: 'SOC 2' },
      D2: { name: 'Cloud Dedicated', premium: '+$50-100K', time: '4-8 weeks', compliance: 'SOC 2, GDPR' },
      D3: { name: 'Private Cloud', premium: '+$175-275K', time: '8-16 weeks', compliance: 'SOC 2, HIPAA, PCI-DSS' },
      D4: { name: 'Self-Hosted', premium: '+$350-550K', time: '16-24+ weeks', compliance: 'FedRAMP-ready, Custom' }
    };

    function renderQuestion() {
      if (currentQuestionIndex >= questions.length) {
        calculateResults();
        return;
      }

      const question = questions[currentQuestionIndex];
      const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
      
      document.getElementById('progress-text').textContent = `${Math.round(progress)}%`;
      document.getElementById('progress-bar').style.width = `${progress}%`;

      const categoryColors = {
        'Product System Foundation': 'emerald',
        'AI & Automation Readiness': 'violet',
        'Organizational Readiness': 'blue',
        'Deployment': 'amber'
      };

      const color = categoryColors[question.category] || 'slate';

      const optionsHtml = question.options.map((opt, idx) => {
        const isSelected = answers[currentQuestionIndex] === opt.value;
        return `
          <button
            onclick="selectOption(${idx})"
            class="option-card w-full text-left p-4 rounded-lg border-2 transition-all ${
              isSelected 
                ? 'border-emerald-500 bg-emerald-50' 
                : 'border-slate-200 bg-white hover:border-slate-300'
            }"
          >
            <div class="flex items-center justify-between">
              <span class="text-sm font-medium text-slate-700">${opt.text}</span>
              ${isSelected ? '<i data-lucide="check-circle" class="w-5 h-5 text-emerald-600"></i>' : ''}
            </div>
          </button>
        `;
      }).join('');

      document.getElementById('question-container').innerHTML = `
        <div class="bg-white rounded-xl border border-slate-200 p-6 shadow-sm fade-in">
          <div class="flex items-center gap-2 mb-4">
            <span class="px-3 py-1 bg-${color}-100 text-${color}-700 rounded-lg text-xs font-semibold">
              ${question.category}
            </span>
            ${question.weight > 0 ? `<span class="text-xs text-slate-500">${question.weight} points max</span>` : ''}
          </div>
          <h2 class="text-lg font-semibold text-slate-900 mb-4">${question.question}</h2>
          <div class="space-y-3">${optionsHtml}</div>
          ${currentQuestionIndex > 0 ? `
            <button
              onclick="goBack()"
              class="mt-4 text-sm text-slate-500 hover:text-slate-700 flex items-center gap-1"
            >
              <i data-lucide="arrow-left" class="w-4 h-4"></i> Previous question
            </button>
          ` : ''}
        </div>
      `;

      lucide.createIcons();
    }

    function selectOption(index) {
      const question = questions[currentQuestionIndex];
      const option = question.options[index];
      
      answers[currentQuestionIndex] = option.value;
      
      if (option.tier) {
        deploymentTier = option.tier;
      }
      
      currentQuestionIndex++;
      setTimeout(() => renderQuestion(), 300);
    }

    function goBack() {
      if (currentQuestionIndex > 0) {
        currentQuestionIndex--;
        delete answers[currentQuestionIndex];
        renderQuestion();
      }
    }

    function calculateResults() {
      let foundationScore = 0;
      let aiScore = 0;
      let orgScore = 0;

      questions.forEach((q, idx) => {
        if (q.category === 'Deployment') return;
        
        const answerValue = answers[idx];
        const selectedOption = q.options.find(opt => opt.value === answerValue);
        
        if (selectedOption) {
          if (q.category === 'Product System Foundation') {
            foundationScore += selectedOption.score;
          } else if (q.category === 'AI & Automation Readiness') {
            aiScore += selectedOption.score;
          } else if (q.category === 'Organizational Readiness') {
            orgScore += selectedOption.score;
          }
        }
      });

      const totalScore = foundationScore + aiScore + orgScore;

      // Determine Investment Path
      recommendedPath = 'J1';
      
      if (totalScore >= 70 && foundationScore >= 25 && orgScore >= 20) {
        recommendedPath = 'J4';
      } else if (totalScore >= 40 && foundationScore >= 15 && orgScore >= 15) {
        recommendedPath = 'J3';
      } else if (totalScore >= 50 && orgScore >= 20) {
        recommendedPath = 'J2';
      } else {
        recommendedPath = 'J1';
      }

      // Display results
      document.getElementById('assessment-container').classList.add('hidden');
      document.getElementById('results-container').classList.remove('hidden');
      // Scroll to top of results
      window.scrollTo({ top: 0, behavior: 'smooth' });
      
      document.getElementById('overall-score').textContent = totalScore;
      document.getElementById('foundation-score').textContent = foundationScore;
      document.getElementById('ai-score').textContent = aiScore;
      document.getElementById('org-score').textContent = orgScore;

      const journey = journeyDetails[recommendedPath];
      const tier = deploymentTiers[deploymentTier];

      // Investment Path Recommendation
      document.getElementById('path-recommendation').innerHTML = `
        <div class="bg-${journey.color}-50 border-2 border-${journey.color}-200 rounded-xl p-5">
          <div class="flex items-center gap-4 mb-4">
            <div class="w-16 h-16 rounded-lg bg-${journey.color}-600 flex items-center justify-center text-white font-bold text-xl">
              ${recommendedPath}
            </div>
            <div class="flex-1">
              <h4 class="text-xl font-bold text-${journey.color}-900">${journey.name}</h4>
              <p class="text-sm text-${journey.color}-700">${journey.description}</p>
            </div>
          </div>
          <div class="grid grid-cols-2 gap-4 mb-4">
            <div class="bg-white rounded-lg p-3">
              <p class="text-xs text-slate-500 mb-1">TCV Range</p>
              <p class="font-bold text-slate-900">${journey.tcv}</p>
            </div>
            <div class="bg-white rounded-lg p-3">
              <p class="text-xs text-slate-500 mb-1">ARR Share</p>
              <p class="font-bold text-slate-900">${journey.arrShare}</p>
            </div>
            <div class="bg-white rounded-lg p-3">
              <p class="text-xs text-slate-500 mb-1">Risk Level</p>
              <p class="font-bold text-slate-900">${journey.risk}</p>
            </div>
            <div class="bg-white rounded-lg p-3">
              <p class="text-xs text-slate-500 mb-1">Path</p>
              <p class="font-bold text-slate-900 text-xs">${journey.path}</p>
            </div>
          </div>
          <div class="bg-white rounded-lg p-3">
            <p class="text-xs text-slate-500 mb-1">Recommended Motion</p>
            <p class="text-sm text-slate-700">${journey.motion}</p>
          </div>
        </div>
      `;

      // Deployment Tier
      document.getElementById('deployment-recommendation').innerHTML = `
        <div class="bg-amber-50 border-2 border-amber-200 rounded-xl p-5">
          <div class="flex items-center gap-4 mb-4">
            <div class="w-16 h-16 rounded-lg bg-amber-600 flex items-center justify-center text-white font-bold text-xl">
              ${deploymentTier}
            </div>
            <div class="flex-1">
              <h4 class="text-xl font-bold text-amber-900">${tier.name}</h4>
              <p class="text-sm text-amber-700">${tier.compliance}</p>
            </div>
          </div>
          <div class="grid grid-cols-3 gap-4">
            <div class="bg-white rounded-lg p-3">
              <p class="text-xs text-slate-500 mb-1">Deploy Time</p>
              <p class="font-bold text-slate-900">${tier.time}</p>
            </div>
            <div class="bg-white rounded-lg p-3">
              <p class="text-xs text-slate-500 mb-1">Services Premium</p>
              <p class="font-bold text-emerald-600">${tier.premium}</p>
            </div>
            <div class="bg-white rounded-lg p-3">
              <p class="text-xs text-slate-500 mb-1">Compliance</p>
              <p class="font-bold text-slate-900 text-xs">${tier.compliance}</p>
            </div>
          </div>
          ${deploymentTier === 'D3' || deploymentTier === 'D4' ? `
            <div class="mt-4 bg-amber-100 rounded-lg p-3">
              <p class="text-xs font-semibold text-amber-800 mb-1">⚠️ Phase 0 Required</p>
              <p class="text-sm text-amber-700">D3/D4 deployments require Phase 0 (Deployment & Security) before Foundation can begin. This adds $175-450K and 8-16 weeks.</p>
            </div>
          ` : ''}
        </div>
      `;

      // Breakdown Details
      document.getElementById('breakdown-details').innerHTML = `
        <div class="grid grid-cols-3 gap-4">
          <div class="bg-emerald-50 rounded-lg p-4 border border-emerald-200">
            <h4 class="font-semibold text-emerald-900 mb-2">Product System Foundation</h4>
            <p class="text-2xl font-bold text-emerald-700 mb-1">${foundationScore}/40</p>
            <div class="h-2 bg-emerald-200 rounded-full overflow-hidden mt-2">
              <div class="h-full bg-emerald-600" style="width: ${(foundationScore/40)*100}%"></div>
            </div>
            <p class="text-xs text-emerald-700 mt-2">${foundationScore >= 30 ? 'Strong foundation' : foundationScore >= 15 ? 'Moderate foundation' : 'Foundation needed'}</p>
          </div>
          <div class="bg-violet-50 rounded-lg p-4 border border-violet-200">
            <h4 class="font-semibold text-violet-900 mb-2">AI & Automation Readiness</h4>
            <p class="text-2xl font-bold text-violet-700 mb-1">${aiScore}/30</p>
            <div class="h-2 bg-violet-200 rounded-full overflow-hidden mt-2">
              <div class="h-full bg-violet-600" style="width: ${(aiScore/30)*100}%"></div>
            </div>
            <p class="text-xs text-violet-700 mt-2">${aiScore >= 20 ? 'AI-ready' : aiScore >= 10 ? 'Moderate readiness' : 'AI prep needed'}</p>
          </div>
          <div class="bg-blue-50 rounded-lg p-4 border border-blue-200">
            <h4 class="font-semibold text-blue-900 mb-2">Organizational Readiness</h4>
            <p class="text-2xl font-bold text-blue-700 mb-1">${orgScore}/30</p>
            <div class="h-2 bg-blue-200 rounded-full overflow-hidden mt-2">
              <div class="h-full bg-blue-600" style="width: ${(orgScore/30)*100}%"></div>
            </div>
            <p class="text-xs text-blue-700 mt-2">${orgScore >= 20 ? 'Strong org readiness' : orgScore >= 10 ? 'Moderate readiness' : 'Org prep needed'}</p>
          </div>
        </div>
      `;

      // Benchmark Comparison
      const benchmarkData = generateBenchmarkComparison(totalScore, foundationScore, aiScore, orgScore, recommendedPath);
      document.getElementById('benchmark-comparison').innerHTML = `
        <h3 class="text-lg font-bold text-slate-900 mb-4 flex items-center gap-2">
          <i data-lucide="trending-up" class="w-5 h-5 text-blue-600"></i>
          How You Compare to Similar Organizations
        </h3>
        <div class="space-y-4">
          <div class="bg-blue-50 rounded-lg p-4 border border-blue-200">
            <div class="flex items-center justify-between mb-3">
              <p class="font-semibold text-blue-900">Your Overall Score</p>
              <p class="text-2xl font-bold text-blue-700">${totalScore}/100</p>
            </div>
            <div class="space-y-2">
              <div class="flex items-center justify-between text-sm">
                <span class="text-slate-600">Industry Average</span>
                <span class="font-medium text-slate-700">${benchmarkData.industryAvg}/100</span>
              </div>
              <div class="h-2 bg-blue-200 rounded-full overflow-hidden">
                <div class="h-full bg-blue-400" style="width: ${benchmarkData.industryAvg}%"></div>
              </div>
              <div class="flex items-center justify-between text-sm">
                <span class="text-slate-600">Top Quartile</span>
                <span class="font-medium text-slate-700">${benchmarkData.topQuartile}/100</span>
              </div>
              <div class="h-2 bg-blue-200 rounded-full overflow-hidden">
                <div class="h-full bg-blue-600" style="width: ${benchmarkData.topQuartile}%"></div>
              </div>
            </div>
            <div class="mt-3 pt-3 border-t border-blue-300">
              <p class="text-xs text-blue-800">
                <span class="font-semibold">${benchmarkData.comparison}</span> ${benchmarkData.comparisonDetail}
              </p>
            </div>
          </div>
          <div class="grid grid-cols-3 gap-3">
            <div class="bg-slate-50 rounded-lg p-3 border border-slate-200">
              <p class="text-xs text-slate-500 mb-1">Foundation</p>
              <p class="text-sm font-semibold text-slate-900">${foundationScore >= 30 ? 'Top 25%' : foundationScore >= 20 ? 'Top 50%' : foundationScore >= 10 ? 'Bottom 50%' : 'Bottom 25%'}</p>
            </div>
            <div class="bg-slate-50 rounded-lg p-3 border border-slate-200">
              <p class="text-xs text-slate-500 mb-1">AI Readiness</p>
              <p class="text-sm font-semibold text-slate-900">${aiScore >= 20 ? 'Top 25%' : aiScore >= 10 ? 'Top 50%' : aiScore >= 5 ? 'Bottom 50%' : 'Bottom 25%'}</p>
            </div>
            <div class="bg-slate-50 rounded-lg p-3 border border-slate-200">
              <p class="text-xs text-slate-500 mb-1">Org Readiness</p>
              <p class="text-sm font-semibold text-slate-900">${orgScore >= 20 ? 'Top 25%' : orgScore >= 10 ? 'Top 50%' : orgScore >= 5 ? 'Bottom 50%' : 'Bottom 25%'}</p>
            </div>
          </div>
          <div class="bg-slate-50 rounded-lg p-3 border border-slate-200">
            <p class="text-xs text-slate-600">
              <span class="font-semibold">Based on analysis of 50+ enterprise organizations</span> including PNC, Edward Jones, The Home Depot, CSX, and others across Financial Services, Retail, Technology, and Healthcare industries.
            </p>
          </div>
        </div>
      `;

      // Next Steps
      const nextSteps = [];
      
      if (recommendedPath === 'J1') {
        nextSteps.push(
          'Schedule IPE Readiness Diagnostic ($50-60K) to establish baseline',
          'Identify executive sponsor and secure budget allocation',
          'Begin foundation-building activities',
          'Monitor for maturity signals before proposing platform'
        );
      } else if (recommendedPath === 'J2') {
        nextSteps.push(
          'Confirm trigger event and urgency timeline',
          'Schedule rapid activation sprint ($225-325K)',
          'Compress timeline with premium pricing',
          'Focus on speed, not education'
        );
      } else if (recommendedPath === 'J3') {
        nextSteps.push(
          'Begin with IPE Readiness Diagnostic ($50-60K)',
          'Quantify activation gaps and value blockers',
          'Propose Foundation Phase ($350-450K over 16-20 weeks)',
          deploymentTier === 'D3' || deploymentTier === 'D4' ? 'Plan Phase 0 (Deployment & Security) before Foundation' : '',
          'Do NOT propose expansion until production activation achieved'
        );
      } else if (recommendedPath === 'J4') {
        nextSteps.push(
          'Monitor for trigger events (org changes, AI initiatives, budget cycles)',
          'Have Intelligence Phase proposal ready ($165-325K)',
          'Move fast when timing aligns',
          'Focus on MCP activation and platform expansion'
        );
      }

      document.getElementById('next-steps').innerHTML = nextSteps.filter(s => s).map((step, idx) => `
        <div class="flex items-start gap-3 p-3 bg-white rounded-lg border border-emerald-200">
          <div class="w-6 h-6 rounded-full bg-emerald-600 text-white flex items-center justify-center text-xs font-bold flex-shrink-0">${idx + 1}</div>
          <p class="text-sm text-emerald-900">${step}</p>
        </div>
      `).join('');

      // Personalized Insights
      const insights = generatePersonalizedInsights(foundationScore, aiScore, orgScore, totalScore, recommendedPath);
      if (insights.length > 0) {
        document.getElementById('personalized-insights').innerHTML = `
          <h3 class="text-lg font-bold text-slate-900 mb-4 flex items-center gap-2">
            <i data-lucide="lightbulb" class="w-5 h-5 text-amber-600"></i>
            Personalized Insights for Your Organization
          </h3>
          <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            ${insights.map(insight => `
              <div class="bg-${insight.color}-50 rounded-lg p-4 border border-${insight.color}-200">
                <div class="flex items-start gap-3 mb-3">
                  <div class="w-10 h-10 rounded-lg bg-${insight.color}-600 flex items-center justify-center flex-shrink-0">
                    <i data-lucide="${insight.icon}" class="w-5 h-5 text-white"></i>
                  </div>
                  <div class="flex-1">
                    <h4 class="font-semibold text-${insight.color}-900 mb-1">${insight.title}</h4>
                    <p class="text-sm text-${insight.color}-800 mb-2">${insight.text}</p>
                    <div class="bg-white rounded p-2 border border-${insight.color}-200">
                      <p class="text-xs font-semibold text-${insight.color}-700 mb-1">Value Insight</p>
                      <p class="text-xs text-${insight.color}-800">${insight.value}</p>
                    </div>
                  </div>
                </div>
              </div>
            `).join('')}
          </div>
        `;
      } else {
        document.getElementById('personalized-insights').innerHTML = '';
      }

      // Cost of Inaction
      const inactionCosts = generateCostOfInaction(foundationScore, aiScore, orgScore, totalScore, recommendedPath);
      document.getElementById('cost-of-inaction').innerHTML = `
        <h3 class="text-lg font-bold text-rose-900 mb-4 flex items-center gap-2">
          <i data-lucide="alert-triangle" class="w-5 h-5 text-rose-600"></i>
          The Cost of Not Taking Action
        </h3>
        <p class="text-sm text-rose-800 mb-4">Based on your assessment, here's what happens if you delay IPE activation:</p>
        <div class="space-y-3">
          ${inactionCosts.map(cost => `
            <div class="bg-white rounded-lg p-4 border border-rose-200">
              <div class="flex items-start gap-3">
                <div class="w-8 h-8 rounded-lg bg-rose-600 flex items-center justify-center flex-shrink-0">
                  <i data-lucide="${cost.icon}" class="w-4 h-4 text-white"></i>
                </div>
                <div class="flex-1">
                  <h4 class="font-semibold text-rose-900 mb-1">${cost.title}</h4>
                  <p class="text-sm text-rose-800">${cost.description}</p>
                  ${cost.impact ? `<p class="text-xs font-semibold text-rose-700 mt-2">Impact: ${cost.impact}</p>` : ''}
                </div>
              </div>
            </div>
          `).join('')}
        </div>
        <div class="mt-4 bg-rose-100 rounded-lg p-4 border border-rose-300">
          <p class="text-sm font-semibold text-rose-900 mb-1">The Opportunity Cost</p>
          <p class="text-sm text-rose-800">${getOpportunityCostMessage(recommendedPath, totalScore)} Organizations that act now see measurable improvements within 8-12 weeks.</p>
        </div>
      `;

      lucide.createIcons();
    }

    function startAssessment() {
      document.getElementById('intro-container').classList.add('hidden');
      document.getElementById('assessment-container').classList.remove('hidden');
      renderQuestion();
    }

    function resetAssessment() {
      currentQuestionIndex = 0;
      answers = {};
      deploymentTier = 'D1';
      document.getElementById('intro-container').classList.remove('hidden');
      document.getElementById('assessment-container').classList.add('hidden');
      document.getElementById('results-container').classList.add('hidden');
      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function downloadResults() {
      const results = {
        overallScore: document.getElementById('overall-score').textContent,
        foundationScore: document.getElementById('foundation-score').textContent,
        aiScore: document.getElementById('ai-score').textContent,
        orgScore: document.getElementById('org-score').textContent,
        deploymentTier: deploymentTier,
        recommendedPath: recommendedPath,
        timestamp: new Date().toISOString()
      };
      
      const blob = new Blob([JSON.stringify(results, null, 2)], { type: 'application/json' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `ipe-assessment-results-${new Date().toISOString().split('T')[0]}.json`;
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
      URL.revokeObjectURL(url);
    }

    function generatePersonalizedInsights(foundationScore, aiScore, orgScore, totalScore, recommendedPath) {
      const insights = [];
      
      // Foundation insights
      if (foundationScore < 15) {
        insights.push({
          type: 'foundation',
          icon: 'building',
          color: 'emerald',
          title: 'Foundation Building Opportunity',
          text: 'Your design system foundation needs strengthening. This is actually an advantage—you can build governance in from the start rather than retrofitting it later.',
          value: 'Organizations that build governance early see 3x faster activation timelines.'
        });
      } else if (foundationScore >= 30) {
        insights.push({
          type: 'foundation',
          icon: 'check-circle',
          color: 'emerald',
          title: 'Strong Foundation Detected',
          text: 'Your mature design system positions you well for rapid IPE activation. The Control Plane can leverage your existing system immediately.',
          value: 'Mature design systems typically see ROI within 8-12 weeks of IPE activation.'
        });
      }

      // AI readiness insights
      if (aiScore < 10) {
        insights.push({
          type: 'ai',
          icon: 'sparkles',
          color: 'violet',
          title: 'AI Adoption Window',
          text: 'Low AI tool adoption suggests your organization is early in the AI journey. IPE can help establish best practices from the start.',
          value: 'Early AI governance prevents technical debt that costs 2-3x more to fix later.'
        });
      } else if (aiScore >= 20) {
        insights.push({
          type: 'ai',
          icon: 'zap',
          color: 'violet',
          title: 'AI-Ready Organization',
          text: 'Your teams are already using AI tools. IPE\'s Control Plane will help ensure AI-generated code aligns with your design system standards.',
          value: 'Organizations with AI tool adoption see 40-60% improvement in AI output quality with IPE context.'
        });
      }

      // Organizational insights
      if (orgScore < 10) {
        insights.push({
          type: 'org',
          icon: 'users',
          color: 'blue',
          title: 'Sponsorship Strategy Needed',
          text: 'Securing executive sponsorship is critical for IPE success. Consider starting with a pilot program to demonstrate value.',
          value: 'Pilot programs with clear ROI metrics help secure executive buy-in in 60% of cases.'
        });
      } else if (orgScore >= 20) {
        insights.push({
          type: 'org',
          icon: 'trending-up',
          color: 'blue',
          title: 'Strong Organizational Readiness',
          text: 'Your executive sponsorship and budget alignment indicate readiness for transformation. This positions you for accelerated value delivery.',
          value: 'Organizations with strong sponsorship see 50% faster time-to-value.'
        });
      }

      // Path-specific insights
      if (recommendedPath === 'J3') {
        insights.push({
          type: 'path',
          icon: 'rocket',
          color: 'emerald',
          title: 'High-Value Transformation Opportunity',
          text: 'The Activation Path represents 60% of IPE ARR. Your organization shows the right signals for a full transformation journey.',
          value: 'J3 accounts typically see $2-5M in value unlocked over 18-24 months.'
        });
      } else if (recommendedPath === 'J4') {
        insights.push({
          type: 'path',
          icon: 'brain',
          color: 'violet',
          title: 'Intelligence Phase Ready',
          text: 'Your mature foundation and AI readiness make you an ideal candidate for Intelligence Phase activation. Focus on MCP integration and expansion.',
          value: 'J4 accounts see fastest ROI—typically 6-8 weeks to first AI-assisted production deployment.'
        });
      }

      return insights;
    }

    function generateCostOfInaction(foundationScore, aiScore, orgScore, totalScore, recommendedPath) {
      const costs = [];

      // Foundation-related costs
      if (foundationScore < 20) {
        costs.push({
          icon: 'trending-down',
          title: 'Design System Fragmentation Accelerates',
          description: 'Without governance, inconsistent patterns multiply. Each new team builds their own components, creating technical debt that costs 2-3x more to fix later.',
          impact: 'Technical debt compounds 15-25% per quarter without intervention'
        });
      } else if (foundationScore >= 20 && foundationScore < 30) {
        costs.push({
          icon: 'users-x',
          title: 'Adoption Plateaus Without Activation',
          description: 'Your design system exists but teams aren\'t getting full value. "Implemented but not activated" means you\'re paying for infrastructure without realizing ROI.',
          impact: '30-70% adoption typically stalls without governance activation'
        });
      }

      // AI-related costs
      if (aiScore >= 10) {
        costs.push({
          icon: 'code',
          title: 'AI Tools Generate Inconsistent Code',
          description: 'Your teams are using AI coding tools, but without IPE\'s Control Plane, AI generates code that doesn\'t match your design system standards. This creates rework and slows velocity.',
          impact: '40-60% of AI-generated code requires manual fixes without governed context'
        });
      } else if (aiScore < 10) {
        costs.push({
          icon: 'clock',
          title: 'You\'ll Play Catch-Up Later',
          description: 'AI adoption is accelerating. Organizations that establish governance now avoid the expensive retrofit later. Early governance prevents technical debt that costs 2-3x more to fix.',
          impact: 'Delayed governance costs 2-3x more than building it early'
        });
      }

      // Organizational costs
      if (orgScore < 15) {
        costs.push({
          icon: 'dollar-sign',
          title: 'Budget Windows Close',
          description: 'Without executive sponsorship and budget alignment, opportunities pass. Budget cycles reset, priorities shift, and the window for transformation narrows.',
          impact: 'Budget cycles typically reset every 6-12 months'
        });
      }

      // Path-specific costs
      if (recommendedPath === 'J3') {
        costs.push({
          icon: 'x-circle',
          title: 'Activation Value Remains Trapped',
          description: 'J3 accounts have the highest potential value ($2-5M over 18-24 months), but it stays locked without activation. Every month of delay is missed value.',
          opportunityCost: '$200K-400K in trapped value per quarter'
        });
      } else if (recommendedPath === 'J4') {
        costs.push({
          icon: 'zap',
          title: 'Competitive Advantage Slips Away',
          description: 'Your mature foundation positions you for rapid AI enablement. Competitors are moving fast—delaying means losing first-mover advantage in AI-assisted product delivery.',
          opportunityCost: '6-8 week head start on competitors'
        });
      } else if (recommendedPath === 'J2') {
        costs.push({
          icon: 'calendar-x',
          title: 'Trigger Events Have Expiration Dates',
          description: 'Acceleration Path accounts have time-sensitive triggers (rollouts, launches, org changes). Delaying means missing the window for rapid activation.',
          impact: 'Trigger windows typically last 3-6 months'
        });
      } else if (recommendedPath === 'J1') {
        costs.push({
          icon: 'building',
          title: 'Foundation Gets Harder to Build',
          description: 'The longer you wait, the more teams build their own solutions. Establishing governance early is 3x easier than retrofitting it across existing implementations.',
          impact: 'Each quarter of delay makes foundation 15-20% harder to establish'
        });
      }

      // Velocity cost (always relevant)
      costs.push({
        icon: 'gauge',
        title: 'Development Velocity Stays Flat',
        description: 'Organizations with IPE activation see 40-60% faster development cycles. Without it, your teams continue working at current velocity while competitors accelerate.',
        impact: 'Missing 40-60% potential velocity improvement'
      });

      return costs.slice(0, 4); // Limit to 4 most relevant costs
    }

    function getOpportunityCostMessage(recommendedPath, totalScore) {
      const messages = {
        'J1': 'Every quarter you delay, foundation-building becomes 15-20% harder as teams build their own solutions.',
        'J2': 'Trigger events have expiration dates—typically 3-6 months. Missing the window means losing rapid activation opportunity.',
        'J3': 'Every quarter you delay, you\'re missing out on $200K-400K in trapped value. J3 accounts unlock $2-5M over 18-24 months when activated.',
        'J4': 'Your mature foundation positions you for rapid ROI (6-8 weeks). Every month of delay is a missed competitive advantage.'
      };
      return messages[recommendedPath] || 'Every quarter you delay, you\'re missing out on significant value and competitive advantage.';
    }

    function generateBenchmarkComparison(totalScore, foundationScore, aiScore, orgScore, recommendedPath) {
      // Industry benchmarks based on typical enterprise distribution
      const industryAvg = 45; // Average score across 50+ organizations
      const topQuartile = 70; // Top 25% threshold
      
      let comparison = '';
      let comparisonDetail = '';
      
      if (totalScore >= topQuartile) {
        comparison = 'You\'re in the top quartile';
        comparisonDetail = '—organizations at this level typically see 40-60% faster development cycles with IPE activation.';
      } else if (totalScore >= industryAvg) {
        comparison = 'You\'re above industry average';
        comparisonDetail = '—organizations in this range unlock significant value through targeted activation programs.';
      } else if (totalScore >= 30) {
        comparison = 'You\'re below industry average';
        comparisonDetail = '—but within range for transformation. Organizations at this level see the highest ROI from foundation-building.';
      } else {
        comparison = 'You\'re in the early stages';
        comparisonDetail = '—organizations starting here benefit most from building governance early, before technical debt compounds.';
      }
      
      return {
        industryAvg,
        topQuartile,
        comparison,
        comparisonDetail
      };
    }

    // Initialize
    lucide.createIcons();
  </script>
</body>
</html>

